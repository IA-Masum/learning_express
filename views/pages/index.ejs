
<%- include('./../partials/header.ejs') %>

<div class="container ">
    <div class="my-4">
        <h4>Create New Contact</h4>
        <form action="/contacts" class="mt-4 ml-1" method="post" id="contact-form">
            <div class="form-group mr-3">
                <input type="hidden" class="form-control" name="id">
            </div>
            <div class="row">
                <div class="col-md-3">
                    <input type="text" class="form-control <%= error.name ? 'is-invalid' : '' %>" name="name" placeholder="Enter Name">
                    <div class="invalid-feedback">
                        <%= error.name %>
                    </div>
                </div>
                <div class="col-md-3">
                    <input type="email" class="form-control  <%= error.email ? 'is-invalid' : '' %>" name="email" placeholder="Enter Email">
                    <div class="invalid-feedback">
                        <%= error.email %>
                    </div>
                </div>
                <div class="col-md-3">
                    <input type="text" class="form-control  <%= error.phone ? 'is-invalid' : '' %>" name="phone" placeholder="Enter Phone">
                    <div class="invalid-feedback">
                        <%= error.phone %>
                    </div>
                </div>
                <div class="col-md-3">
                    <input type="submit" class="btn btn-primary" value="Submit">
                    <span style="display: none" id="reset-btn" class="btn btn-success">Reset</span>
                </div>
            </div>

        </form>
    </div>
    <div>
        <h4>Your Contacts</h4>
        <table class="table table-striped table-dark">
            <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Phone</th>
                <th scope="col">Email</th>
                <th scope="col">Action</th>
            </tr>
            </thead>
            <tbody>
            <% for (contact of contacts){ %>
                <tr>
                    <td><%= contact.name %></td>
                    <td><%= contact.phone %></td>
                    <td><%= contact.email %></td>
                    <td>
                        <button class="btn btn-sm btn-warning edit-btn"
                            data-name="<%= contact.name %>"
                            data-email="<%= contact.email %>"
                            data-phone="<%= contact.phone %>"
                            data-id="<%= contact._id %>"
                        >Edit</button>
                        <a class="btn btn-sm btn-danger" href="/contacts/delete/<%= contact._id%> ">Delete</a>
                    </td>
                </tr>
            <% }%>
            </tbody>
        </table>
    </div>

</div>

<%- include('./../partials/footer.ejs') %>

